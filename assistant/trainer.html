<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ProBody | Premium Gym Planner</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- App Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light text-dark">

<!-- Profile Card -->
<div class="container mt-4">
  <div class="profile-card card glass shadow-sm p-4 mx-auto">
    <div class="d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center">
        <div class="user-profile position-relative me-3">
          <img src="../Logo.png" alt="User profile" class="rounded-circle" style="width: 60px; height: 60px;" onerror="this.src='https://via.placeholder.com/60';">
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary" id="gymDayCount" aria-label="Gym days">0</span>
        </div>
        <div class="user-info">
          <h5 class="fw-bold mb-1" id="userName">John Doe</h5>
          <small class="text-muted" id="todayDate">Aug 29, 2025</small>
          <p class="text-muted mb-0" id="userStats">Weight: 70 kg, Age: 30</p>
        </div>
      </div>
      <div>
        <button class="btn btn-outline-primary btn-sm edit-profile-btn me-2" data-bs-toggle="modal" data-bs-target="#editProfileModal" aria-label="Edit Profile">
          <i class="material-icons">edit</i>
        </button>
        <button class="btn btn-primary btn-sm view-recommendations-btn" data-bs-toggle="modal" data-bs-target="#recommendationsModal" aria-label="View Recommendations">
          <i class="material-icons">lightbulb</i>
        </button>
      </div>
    </div>
    <div class="mt-3">
      <p class="mb-1 fw-bold">Training Progress</p>
      <div class="progress" role="progressbar" aria-label="Gym training progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="365">
        <div class="progress-bar bg-primary" id="trainingProgress" style="width: 0%"></div>
      </div>
      <p class="text-muted mt-2 mb-0" id="gymStatus">Plan your workouts to start training!</p>
    </div>
  </div>
</div>

<!-- Edit Profile Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      
      <div class="modal-header">
  <h5 class="modal-title1 text-dark" id="editProfileModalLabel">Complete Your Profile</h5>
  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
      
      <div class="modal-body">
        <form id="editProfileForm">
          <div class="mb-3">
            <label for="editName" class="form-label">Name</label>
            <input type="text" class="form-control" id="editName" placeholder="Enter your full name" aria-describedby="nameHelp">
            <div id="nameHelp" class="form-text">Your full name is required for personalized guidance.</div>
          </div>

          <div class="mb-3">
            <label for="editWeight" class="form-label">Weight (kg)</label>
            <input type="number" class="form-control" id="editWeight" placeholder="70" min="30" max="200" step="0.1" aria-describedby="weightHelp">
            <div id="weightHelp" class="form-text">Enter your weight in kilograms (30-200 kg).</div>
          </div>

          <div class="mb-3">
            <label for="editAge" class="form-label">Age</label>
            <input type="number" class="form-control" id="editAge" placeholder="30" min="16" max="100" aria-describedby="ageHelp">
            <div id="ageHelp" class="form-text">Enter your age (16-100 years).</div>
          </div>
        </form>
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="saveProfileBtn">Save & Continue</button>
      </div>
      
    </div>
  </div>
</div>
<!-- Recommendations Modal -->
<div class="modal fade" id="recommendationsModal" tabindex="-1" aria-labelledby="recommendationsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="recommendationsModalLabel">Your Fitness Recommendations</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <ul id="recommendationsList" class="list-unstyled"></ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

  <div class="container py-4">

    <!-- CALENDAR SECTION -->
    <section id="calendarSection" class="hidden">
      <div class="card glass shadow-sm">
        <div class="card-body">
          <div id="calendarGrid" class="row g-2 text-center">
            <!-- Days injected via JS -->
          </div>
        </div>
      </div>

      <!-- Go to Training Button -->
      <div class="text-center mt-3" id="goTrainingContainer" style="display:none;">
        <button class="btn btn-success btn-lg shadow" id="goTrainingBtn">
          <i class="material-icons me-1">sports_gymnastics</i> Go to Training
        </button>
      </div>
    </section>
  
    <!-- DASHBOARD -->
   <section id="dashboardSection" class="hidden py-4">
  <div class="container">
    <div class="row gy-3">
      <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
          <h3 id="todayHeading" class="mb-0 display-7 text-gradient" aria-label="Today's Workout">
            <i class="material-icons me-2">check_circle</i> Today's Workout
          </h3>
          <div class="d-flex gap-2">
            <button id="editBtn" class="btn btn-outline-dark btn-sm" aria-label="Edit Workout Plan">
              <i class="material-icons">edit</i> Edit
            </button>
            <button id="resetBtn" class="btn btn-danger btn-sm" aria-label="Reset Workout Plan">
              <i class="material-icons">delete</i> Reset
            </button>
          </div>
        </div>
      </div>

      <div id="todayCards" class="col-12 row g-3"></div>

      <div class="col-12">
        <div class="card glass shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-3">Workout Timeline</h5>
            <div class="chart-container position-relative" style="min-height: 200px;">
              <canvas id="timelineChart"></canvas>
              <div id="chartPlaceholder" class="text-center text-muted d-none">No workout data for today</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Exercise Description Modal -->
<div class="modal fade" id="exerciseDescriptionModal" tabindex="-1" aria-labelledby="exerciseDescriptionModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content glass">
      <div class="modal-header">
        <h5 class="modal-title" id="exerciseDescriptionModalLabel">Exercise Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <img id="exerciseImage" src="" alt="Exercise demo" class="img-fluid mb-3" style="max-height:200px;border-radius:10px;">
        <p id="exerciseDescription" class="text-muted"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Timer Modal -->
<div class="modal fade" id="timerModal" tabindex="-1" aria-labelledby="timerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content glass">
      <div class="modal-header">
        <h5 class="modal-title" id="timerModalLabel">Timer</h5>
        <button type="button" class="btn-close" id="timerCloseBtn" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center">
        <p id="timerExerciseName" class="mb-3"></p>

        <!-- Timer Circular Progress -->
        <div id="timerCircularProgress" class="circular-progress mb-3">
          <svg viewBox="0 0 36 36">
            <circle class="circle-bg" cx="18" cy="18" r="15.9155" stroke-width="2" fill="none" />
            <circle class="circle" cx="18" cy="18" r="15.9155" stroke-width="2" fill="none"
              stroke-linecap="round" stroke-dasharray="100" stroke-dashoffset="100" />
          </svg>
          <div class="progress-text" id="timerCircularText">00:00</div>
        </div>

        <div class="d-flex justify-content-center gap-2">
          <button id="startTimerBtn" class="btn btn-primary btn-sm" aria-label="Start Timer">Start</button>
          <button id="pauseTimerBtn" class="btn btn-secondary btn-sm" aria-label="Pause Timer" disabled>Pause</button>
          <button id="resetTimerBtn" class="btn btn-danger btn-sm" aria-label="Reset Timer">Reset</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Counter Modal -->
<div class="modal fade" id="counterModal" tabindex="-1" aria-labelledby="counterModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content glass">
      <div class="modal-header">
        <h5 class="modal-title" id="counterModalLabel">Counter</h5>
        <button type="button" class="btn-close" id="counterCloseBtn" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center">
        <p id="counterExerciseName" class="mb-3"></p>

        <!-- Counter Circular Progress -->
        <div id="counterCircularProgress" class="circular-progress mb-3">
          <svg viewBox="0 0 36 36">
            <circle class="circle-bg" cx="18" cy="18" r="15.9155" stroke-width="2" fill="none" />
            <circle class="circle" cx="18" cy="18" r="15.9155" stroke-width="2" fill="none"
              stroke-linecap="round" stroke-dasharray="100" stroke-dashoffset="100" />
          </svg>
          <div class="progress-text" id="counterCircularText">0/0</div>
        </div>

        <div class="d-flex align-items-center justify-content-center mb-3 gap-2">
          <button id="decrementCounterBtn" class="btn btn-outline-dark btn-sm" aria-label="Decrement Counter">-</button>
          <button id="incrementCounterBtn" class="btn btn-outline-dark btn-sm" aria-label="Increment Counter">+</button>
        </div>

        <div class="d-flex justify-content-center gap-2 mb-3">
          <button id="startMotionCounterBtn" class="btn btn-success btn-sm" aria-label="Start Motion Counter">Start Motion Detection</button>
          <button id="resetCounterBtn" class="btn btn-danger btn-sm" aria-label="Reset Counter">Reset</button>
        </div>
      </div>
    </div>
  </div>
</div>
  
    <!-- CATEGORY MODAL -->
    <div class="modal fade" id="categoryModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content glass p-3">
          <div class="modal-header border-0">
            <h5 class="modal-title"><i class="material-icons me-2">calendar_today</i> Choose Categories</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3 text-center">
              <button class="btn btn-outline-success btn-rest mb-2">Rest Day 
                <i class="material-icons ms-1">bed</i>
              </button>
            </div>
            <div id="modalCategoryGrid" class="d-flex flex-wrap justify-content-center gap-2">
              <!-- Categories injected via JS -->
            </div>
          </div>
          <div class="modal-footer border-0">
            <button type="button" class="btn btn-primary" id="modalSaveBtn">Save</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Exercise Description Modal -->
<div class="modal fade" id="exerciseDescriptionModal" tabindex="-1" aria-labelledby="exerciseDescriptionModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content glass">
      <div class="modal-header">
        <h5 class="modal-title" id="exerciseDescriptionModalLabel">Exercise Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <img id="exerciseImage" src="" alt="Exercise demo" class="img-fluid mb-3" style="max-height: 200px; border-radius: 10px;">
        <p id="exerciseDescription" class="text-muted"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

  </div>



<button id="musicFab" class="fab" onclick="window.open('music.html', '_blank')">
  <span class="material-icons">music_note</span>
</button>


  <!-- FOOTER -->
  <footer class="bg-white shadow-sm mt-5 py-4">
    <div class="container text-center">
      <p class="mb-1">&copy; 2025 ProBody. All rights reserved.</p>
      <div>
        <a href="#" class="text-decoration-none mx-2">Privacy</a> |
        <a href="#" class="text-decoration-none mx-2">Terms</a> |
        <a href="#" class="text-decoration-none mx-2">Support</a>
      </div>
    </div>
  </footer>

  <!-- Dependencies -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
  <!-- App Script -->
  <script src="script.js"></script>
</body>
</html>